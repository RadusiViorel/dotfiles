#!/usr/bin/env bash

# Parse named parameters
for arg in "$@"; do
  case $arg in
    *) echo "Unknown argument: $arg" ; exit 1 ;;
  esac
done

W=450

pkill -f "yad --calendar-popup" 2>/dev/null

# Screen dimensions
SCREEN_W=$(xdpyinfo | awk '/dimensions:/ {print $2}' | cut -d'x' -f1)

# Compute top-right corner position
POS_X=$((SCREEN_W - W))

yad --name="calendar-popup" \
  --calendar \
  --sticky \
  --fixed \
  --always-on-top \
  --on-top \
  --font="Source Code Pro Bold 22" \
  --skip-taskbar \
  --no-buttons \
  --geometry="${W}x0+${POS_X}+20"
