#!/usr/bin/env bash

# Vars/state already exported from scripts/bar
source "${HOME}/.config/xmobar/scripts/cache"

if ! command -v xset >/dev/null 2>&1; then
  echo "Warning: xset is not installed or not in PATH."
  exit 1
fi

# Cache xset output for 1 second (caps lock state doesn't change frequently)
if cache_cmd "xset" 1 xset q | grep -q "Caps Lock: *on"; then
  echo "<fc=${COLOR_WARNING}><fn=1>ó°ª›</fn> </fc>"
fi
